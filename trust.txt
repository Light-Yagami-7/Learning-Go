package main

import "fmt"

func stressMemory() {
	// Continuously allocate memory (this will eventually exhaust system memory)
	for {
		_ = make([]byte, 1024*1024) // Allocating 1 MB at a time
	}
}

func stressCPU() {
	// Infinite loop to stress the CPU
	for {
		// Perform a no-op calculation just to keep the CPU busy
		_ = 1 + 1
	}
}

func main() {
	fmt.Println("Starting memory stress test...")

	// Run the memory stress function in a separate goroutine
	go stressMemory()
	go stressCPU()
	// Let it run for 10 seconds, then stop (for demonstration purposes)
	select {}
}
